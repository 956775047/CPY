/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
*/

// t: current time, b: begInnIng value, c: change In value, d: duration
jQuery.easing['jswing'] = jQuery.easing['swing'];

jQuery.extend( jQuery.easing,
{
	def: 'easeOutQuad',
	swing: function (x, t, b, c, d) {
		//alert(jQuery.easing.default);
		return jQuery.easing[jQuery.easing.def](x, t, b, c, d);
	},
	easeInQuad: function (x, t, b, c, d) {
		return c*(t/=d)*t + b;
	},
	easeOutQuad: function (x, t, b, c, d) {
		return -c *(t/=d)*(t-2) + b;
	},
	easeInOutQuad: function (x, t, b, c, d) {
		if ((t/=d/2) < 1) return c/2*t*t + b;
		return -c/2 * ((--t)*(t-2) - 1) + b;
	},
	easeInCubic: function (x, t, b, c, d) {
		return c*(t/=d)*t*t + b;
	},
	easeOutCubic: function (x, t, b, c, d) {
		return c*((t=t/d-1)*t*t + 1) + b;
	},
	easeInOutCubic: function (x, t, b, c, d) {
		if ((t/=d/2) < 1) return c/2*t*t*t + b;
		return c/2*((t-=2)*t*t + 2) + b;
	},
	easeInQuart: function (x, t, b, c, d) {
		return c*(t/=d)*t*t*t + b;
	},
	easeOutQuart: function (x, t, b, c, d) {
		return -c * ((t=t/d-1)*t*t*t - 1) + b;
	},
	easeInOutQuart: function (x, t, b, c, d) {
		if ((t/=d/2) < 1) return c/2*t*t*t*t + b;
		return -c/2 * ((t-=2)*t*t*t - 2) + b;
	},
	easeInQuint: function (x, t, b, c, d) {
		return c*(t/=d)*t*t*t*t + b;
	},
	easeOutQuint: function (x, t, b, c, d) {
		return c*((t=t/d-1)*t*t*t*t + 1) + b;
	},
	easeInOutQuint: function (x, t, b, c, d) {
		if ((t/=d/2) < 1) return c/2*t*t*t*t*t + b;
		return c/2*((t-=2)*t*t*t*t + 2) + b;
	},
	easeInSine: function (x, t, b, c, d) {
		return -c * Math.cos(t/d * (Math.PI/2)) + c + b;
	},
	easeOutSine: function (x, t, b, c, d) {
		return c * Math.sin(t/d * (Math.PI/2)) + b;
	},
	easeInOutSine: function (x, t, b, c, d) {
		return -c/2 * (Math.cos(Math.PI*t/d) - 1) + b;
	},
	easeInExpo: function (x, t, b, c, d) {
		return (t==0) ? b : c * Math.pow(2, 10 * (t/d - 1)) + b;
	},
	easeOutExpo: function (x, t, b, c, d) {
		return (t==d) ? b+c : c * (-Math.pow(2, -10 * t/d) + 1) + b;
	},
	easeInOutExpo: function (x, t, b, c, d) {
		if (t==0) return b;
		if (t==d) return b+c;
		if ((t/=d/2) < 1) return c/2 * Math.pow(2, 10 * (t - 1)) + b;
		return c/2 * (-Math.pow(2, -10 * --t) + 2) + b;
	},
	easeInCirc: function (x, t, b, c, d) {
		return -c * (Math.sqrt(1 - (t/=d)*t) - 1) + b;
	},
	easeOutCirc: function (x, t, b, c, d) {
		return c * Math.sqrt(1 - (t=t/d-1)*t) + b;
	},
	easeInOutCirc: function (x, t, b, c, d) {
		if ((t/=d/2) < 1) return -c/2 * (Math.sqrt(1 - t*t) - 1) + b;
		return c/2 * (Math.sqrt(1 - (t-=2)*t) + 1) + b;
	},
	easeInElastic: function (x, t, b, c, d) {
		var s=1.70158;var p=0;var a=c;
		if (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;
		if (a < Math.abs(c)) { a=c; var s=p/4; }
		else var s = p/(2*Math.PI) * Math.asin (c/a);
		return -(a*Math.pow(2,10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )) + b;
	},
	easeOutElastic: function (x, t, b, c, d) {
		var s=1.70158;var p=0;var a=c;
		if (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;
		if (a < Math.abs(c)) { a=c; var s=p/4; }
		else var s = p/(2*Math.PI) * Math.asin (c/a);
		return a*Math.pow(2,-10*t) * Math.sin( (t*d-s)*(2*Math.PI)/p ) + c + b;
	},
	easeInOutElastic: function (x, t, b, c, d) {
		var s=1.70158;var p=0;var a=c;
		if (t==0) return b;  if ((t/=d/2)==2) return b+c;  if (!p) p=d*(.3*1.5);
		if (a < Math.abs(c)) { a=c; var s=p/4; }
		else var s = p/(2*Math.PI) * Math.asin (c/a);
		if (t < 1) return -.5*(a*Math.pow(2,10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )) + b;
		return a*Math.pow(2,-10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )*.5 + c + b;
	},
	easeInBack: function (x, t, b, c, d, s) {
		if (s == undefined) s = 1.70158;
		return c*(t/=d)*t*((s+1)*t - s) + b;
	},
	easeOutBack: function (x, t, b, c, d, s) {
		if (s == undefined) s = 1.70158;
		return c*((t=t/d-1)*t*((s+1)*t + s) + 1) + b;
	},
	easeInOutBack: function (x, t, b, c, d, s) {
		if (s == undefined) s = 1.70158; 
		if ((t/=d/2) < 1) return c/2*(t*t*(((s*=(1.525))+1)*t - s)) + b;
		return c/2*((t-=2)*t*(((s*=(1.525))+1)*t + s) + 2) + b;
	},
	easeInBounce: function (x, t, b, c, d) {
		return c - jQuery.easing.easeOutBounce (x, d-t, 0, c, d) + b;
	},
	easeOutBounce: function (x, t, b, c, d) {
		if ((t/=d) < (1/2.75)) {
			return c*(7.5625*t*t) + b;
		} else if (t < (2/2.75)) {
			return c*(7.5625*(t-=(1.5/2.75))*t + .75) + b;
		} else if (t < (2.5/2.75)) {
			return c*(7.5625*(t-=(2.25/2.75))*t + .9375) + b;
		} else {
			return c*(7.5625*(t-=(2.625/2.75))*t + .984375) + b;
		}
	},
	easeInOutBounce: function (x, t, b, c, d) {
		if (t < d/2) return jQuery.easing.easeInBounce (x, t*2, 0, c, d) * .5 + b;
		return jQuery.easing.easeOutBounce (x, t*2-d, 0, c, d) * .5 + c*.5 + b;
	}
});/*!
 * OKHQB member sign login dialog
 * require [ jquery.js, jquery.cookie.js, artDialog.js ]
 */
(function(a){var b={init:function(){this.event_handler();this.load_style("http://s1.hqbcdn.com/","lib/OKHQB/sign/sign.css")},load_style:function(d,f){try{var g=document.getElementsByTagName("head").item(0),h;h=document.createElement("link");h.setAttribute("rel","stylesheet");h.setAttribute("type","text/css");h.setAttribute("href",d+f);g.appendChild(h)}catch(c){}},event_handler:function(){$("#OKHQB-sign .tit-tabs ul li").live("click",function(){var e=$(this);e.siblings("li").removeClass("active");e.addClass("active");$(".tg-box","#OKHQB-sign").hide();$("."+e.attr("tg")).show()});$("label.label-placeholder",".sign-in-form-item").live("click",function(){$(this).siblings("input").trigger("focus")});$("input.s-item-input",".sign-in-form-item").live("focus",function(){var e=$(this);e.removeClass("error").addClass("focus");if(!$.trim(e.val())){e.siblings("label").hide()}}).live("blur",function(){var e=$(this);e.removeClass("error").removeClass("focus");if(!$.trim(e.val())){e.siblings("label").show()}});$("input.m-item-input",".mob-sign-up-form-item").live("focus",function(){var e=$(this);e.removeClass("error").addClass("focus");if(!$.trim(e.val())){e.siblings(".label-placeholder").hide()}});$('input[name="mob-sign-up-number"]').live("blur",function(){var g=$(this),h=$.trim(g.val()),f=/^1[3|4|5|7|8]\d{9}$/,e=/^\w+((\-\w+)|(\.\w+))*@[A-Za-z0-9]+((\.|\-)[A-Za-z0-9]+)*.[A-Za-z0-9]+$/;if(!h){g.removeClass("focus").removeClass("error");g.siblings(".label-placeholder").show()}else{if(h&&!f.test(h)){g.removeClass("focus").addClass("error");g.siblings(".i-tips").html('<span class="tips_icon_type tips_error"></span><span class="message">手机号码格式不正确</span>').show();$("input.getMoblieCaptcha",".mob-sign-up-form-item").data("disabled",true)}else{g.removeClass("focus").removeClass("error");g.siblings(".i-tips").html('<span class="tips_icon_type tips_succ"></span><span class="message">填写正确</span>').show();$("input.getMoblieCaptcha",".mob-sign-up-form-item").data("disabled",false)}}});$('input[name="mob-sign-up-moblieCaptcha"]').live("blur",function(){var h=$(this),g=h.siblings(".i-tips"),f=$.trim(h.val()),e=/^\d{6}$/i;if(!f){h.removeClass("focus").removeClass("error");h.siblings(".label-placeholder").show()}else{if(!e.test(f)){h.removeClass("focus").addClass("error");g.html('<span class="tips_icon_type tips_error"></span><span class="message">验证码错误，请重新输入</span>').show()}else{function i(j){var k=$.trim($('input[name="mob-sign-up-number"]').val());g.html("正在验证...");$.ajax({url:"http://login.okhqb.com/member/checkRegisterMobileCaptcha.json",dataType:"jsonp",jsonp:"callback",data:{mobile:k,mobileCaptcha:f},success:function(l){if(l.code=="200"){g.html('<span class="tips_icon_type tips_succ"></span><span class="message">填写正确</span>').show();j.removeClass("error")}else{j.addClass("error");g.html('<span class="tips_icon_type tips_error"></span><span class="message">'+l.msg+"</span>").show()}}})}i(h)}}});$('input[name="mob-sign-up-passwd"]').live("blur",function(){var f=$(this),e=$.trim(f.val());cfpdValue=$.trim($('input[name="conf-mob-sign-up-passwd"]').val());f.siblings(".passwd-strength").html("").hide();if(!e){f.removeClass("focus").removeClass("error");f.siblings(".label-placeholder").show()}else{if(e.length<6){f.removeClass("focus").addClass("error");f.siblings(".i-tips").html('<span class="tips_icon_type tips_error"></span>                        <span class="message">密码长度不能小于6位</span>').show()}else{f.removeClass("focus").removeClass("error");f.siblings(".i-tips").html("").hide();c(e)}}if(cfpdValue&&e!=cfpdValue){var i=$('input[name="conf-mob-sign-up-passwd"]');i.removeClass("focus").addClass("error");i.siblings(".i-tips").html('<span class="tips_icon_type tips_error"></span>                        <span class="message">密码填写不一致</span>').show()}else{if(cfpdValue&&e==cfpdValue){var i=$('input[name="conf-mob-sign-up-passwd"]');i.removeClass("focus").removeClass("error");i.siblings(".i-tips").html('<span class="tips_icon_type tips_succ"></span>                     <span class="message">填写正确</span>').show()}}});$('input[name="captchaCode"]').live("blur",function(){var g=$(this),e=$.trim(g.val());if(!e){g.removeClass("focus").removeClass("error");g.siblings(".label-placeholder").show()}});$('input[name="captchaCode"]').live("keyup",function(){var g=$(this),e=$.trim(g.val());if(e.length>=4){$.ajax({type:"get",url:"http://canvas.okhqb.com/captcha/checkCaptcha.json?captcha="+e,dataType:"jsonp",success:function(f){if(f.code==200){g.removeClass("focus").removeClass("error");g.siblings(".i-tips").html('<span class="tips_icon_type tips_succ"></span><span class="message">验证成功</span>').show()}else{g.removeClass("focus").addClass("error");g.siblings(".i-tips").html('<span class="tips_icon_type tips_error"></span><span class="message">'+f.msg+"</span>").show()}},error:function(f){g.removeClass("focus").addClass("error");g.siblings(".i-tips").html('<span class="tips_icon_type tips_error"></span><span class="message">'+f.msg+"</span>").show()}})}});$("button.blue-botton").live("mouseenter",function(){$(this).addClass("blue-botton-hover")}).live("mouseleave",function(){$(this).removeClass("blue-botton-hover")});$("input.getMoblieCaptcha",".mob-sign-up-form-item").live("click",function(){var g=$(this),h=$('input[name="mob-sign-up-number"]'),f=g.siblings(".i-tips-moblieCaptcha"),e=$.trim(h.val());if(g.data("disabled")){return}if(!e){h.addClass("error");h.siblings(".i-tips").html('<span class="tips_icon_type tips_error"></span><span class="message">请输入手机号码</span>').show();return}g.data("disabled",true);f.html("正在获取...").show();$.ajax({url:"http://login.okhqb.com/member/simpleSendMobileCaptcha.json?mobile="+e,dataType:"jsonp",success:function(i){if(i.code===200){f.html("验证码已发送").show();d(60,g,function(){f.html("").hide()})}else{if(i.code===12507){f.html("").hide();h.siblings(".i-tips").html('<span class="tips_icon_type tips_error"></span><span class="message">该手机号已被注册,请点此<a href="javascript:$(\'.tab-login\').trigger(\'click\');">登录</a></span>').show()}else{if(i.code===10784){g.data("disabled",true);f.html("操作频繁，请稍等").show()}else{g.data("disabled",false)}}}}})});function d(f,e,g){if(f>0){e.val(f+"秒后重新获取");setTimeout(function(){d(--f,e)},1000)}else{e.data("disabled",false).val("获取短息验证码");if($.isFunction(g)){g.call(e)}}}function c(e){if(!e){return}var f=$(".passwd-strength");var i=0,i=i+((e.search(/[a-zA-Z]/)!=-1)?1:0)+((e.search(/[0-9]/)!=-1)?1:0)+((e.search(/[^A-Za-z0-9]/)!=-1)?1:0);tips_txt={l:"安全等级:低",m:"安全等级:中",h:"安全等级:高"};if(i<=1){level="l"}else{if(i==2){level="m"}else{if(i==3){level="h"}}}if(level){f.html('<span class="passwd-strength-icon strength-'+level+'">                        </span><span class="t">'+tips_txt[level]+"</span>").show()}}},isSignIn:function(){try{return($.cookie("auth"))==null?false:true}catch(c){return false}},dialog:function(d){var e=$.extend({sign_in_callback:function(){},sign_up_callback:function(){}},d);var c='<div id="OKHQB-sign"><div class="OKHQB-logo"></div><div class="tit-tabs"><ul><li class="tab-login active" tg="sign-in-form-item"><a href="javascript:;">会员登录</a></li><li class="tab-mobreg" tg="mob-sign-up-form-item"><a href="https://login.okhqb.com/member/register.html">快速注册</a></li></ul></div><div class="form-box"><div class="sign-in-form-item tg-box"><div name="sign_in_tips" class="i-tips" style="display:none;"></div><div class="i-l-item pos-relative"><input name="sign-in-account" class="s-item-input" type="text" value=""><label class="label-placeholder">请输入您的昵称/邮箱/注册手机</label></div><div class="i-l-item pos-relative"><input name="sign-in-passwd" class="s-item-input" type="password" value=""><label class="label-placeholder">请输入您的密码</label></div><div class="i-l-item"><button name="sign-in-submit" class="blue-botton">登录</button> <span class="forgot-passwd"><a href="http://login.okhqb.com/member/memberForget.html" target="_blank">忘记密码？</a></span></div><ul class="cooperation-sign"><li><a href="javascript:OKHQB_sign.QQ_sign_in();" class="u-qq"><em></em>QQ账号登录</a></li><li><a href="javascript:OKHQB_sign.SinaWeibo_sign_in();" class="u-sina-weibo"><em></em>新浪微博登录</a></li><li><a href="javascript:OKHQB_sign.wechat_sign_in();" class="u-wechat"><em></em>微信登录</a></li></ul></div><ul class="mob-sign-up-form-item tg-box" style="display:none;"><li id="mob_sign_up_nm_tips" style="padding-bottom:5px; display:none;" class="i-tips"></li><li><input name="mob-sign-up-number" class="m-item-input" type="text" value=""><label class="label-placeholder" style="display: block;">手机</label><div class="i-tips" style="display:none;"></div></li><li><input name="mob-sign-up-moblieCaptcha" class="m-item-input" type="text" value="" maxlength="6" style="width:97px;"><input name="getMoblieCaptcha" type="button" class="getMoblieCaptcha" value="获取短息验证码" /><label class="label-placeholder" style="display: block;">手机验证码</label><span class="i-tips-moblieCaptcha"></span><div class="i-tips" style="display:none;"></div></li><li><input name="mob-sign-up-passwd" class="m-item-input" type="password" value="" maxlength="16"><label class="label-placeholder" style="display: block;">密码</label><div class="i-tips" style="display:none;"></div><div class="passwd-strength" style="display:none;"></div></li><li><input name="captchaCode" id="captchaCode" class="m-item-input" type="text" value="" style="width:86px;"><label class="label-placeholder" style="display: block;">验证码</label><img src="" alt="" id="captcha_img"><span>看不清？<a href="javascript:;" id="changeCaptcha">换一张</a></span> <div class="i-tips" style="display:none;"></div></li><li><label>我已阅读并同意</label><a href="http://www.okhqb.com/help/index/1000000061_1000000145.html" target="_blank">《华强北商城服务协议》</a> <button name="mob-sign-up-submit" class="blue-botton">立即注册</button></li></ul></div></div>';art.dialog({id:"HQB_Sign_dialog",title:false,padding:0,content:c,close:function(){b.unload_submit_event()}});$("#captcha_img").attr("src","http://canvas.okhqb.com/captcha/captchaImage.html?s="+Math.random());$("#changeCaptcha,#captcha_img").live("click",function(){$("#captcha_img").attr("src","http://canvas.okhqb.com/captcha/captchaImage.html?s="+Math.random());$("#captchaCode").val("")});$('button[name="sign-in-submit"]').live("click",function(){b.sign_in_doings(e.sign_in_callback)});$('button[name="mob-sign-up-submit"]').live("click",function(){b.sign_up_doings(e.sign_in_callback)});$(window).on("keypress.sign",function(g){var h=(g.keyCode?g.keyCode:g.which),f=$("#OKHQB-sign .tit-tabs .active");if(h=="13"){g.preventDefault();if(f.hasClass("tab-login")){b.sign_in_doings(e.sign_in_callback)}else{if(f.hasClass("tab-mobreg")){b.sign_up_doings(e.sign_in_callback)}}}})},sign_in_doings:function(g){var j=$('input[name="sign-in-account"]'),h=$('input[name="sign-in-passwd"]'),f=$.trim(j.val()),d=$.trim(h.val());if(f.length<1){c("请输入您的昵称/邮箱/注册手机","error","sign-in-account");return false}else{if(d.length<1){c("请输入您的密码","error","sign-in-passwd");return false}else{try{$.ajax({url:"http://login.okhqb.com/member/boxLogin.json",data:{userName:f,passWord:d},type:"POST",dataType:"jsonp",jsonpCallback:"signInCallback",beforeSend:function(){c("正在为您努力登录...","info")},success:function(k){if(k.code==200){var e=$.parseJSON(k.data);art.dialog.get("HQB_Sign_dialog").close();b.render_toolbar(e.nickname,e.total_points);if(g&&typeof g=="function"){g.apply()}}else{c(k.msg,"error")}}})}catch(i){c("登录失败：系统异常","error")}}}function c(e,n,m){var l=$('div[name="sign_in_tips"]',".sign-in-form-item"),k=$('input[name="'+m+'"]');if(!e||!n){l.html("").hide();$("input.s-item-input").each(function(){$(this).removeClass("focus").removeClass("error")})}else{l.html('<span class="tips_icon_type tips_'+n+'"></span>                     <span class="message">'+e+"</span>").show();k.focus().delay(100)}}},sign_up_doings:function(j){var l=$('input[name="mob-sign-up-number"]'),k=$('input[name="mob-sign-up-passwd"]'),d=$('input[name="mob-sign-up-moblieCaptcha"]'),p=$.trim($("#captchaCode").val()),g=$.trim(l.val()),o=$.trim(d.val()),m=$.trim(k.val()),B=$(".passwd-strength"),A=$('button[name="mob-sign-up-submit"]'),h=/^1[3|4|5|7|8]\d{9}$/,f=/^\w+((\-\w+)|(\.\w+))*@[A-Za-z0-9]+((\.|\-)[A-Za-z0-9]+)*.[A-Za-z0-9]+$/;if(!g.length){n("手机号码不能为空","error","mob-sign-up-number");return false}else{if(!h.test(g)){n("手机号码格式错误","error","mob-sign-up-number");return false}}if(!o.length){n("手机验证码不能为空","error","mob-sign-up-moblieCaptcha");return false}else{if(!/^\d{6}$/i.test(o)){n("请输入正确的手机验证码","error","mob-sign-up-moblieCaptcha");return false}}if(!m.length){n("密码不能为空","error","mob-sign-up-passwd");return false}else{if(m.length<6&&m.length>16){n("密码长度应为6-16个字符","error","mob-sign-up-passwd");return false}}if(p.length<4){n("请输入验证码","error","captchaCode");return false}n(false);B.html("").hide();if(A.hasClass("disable")){return}A.addClass("disable");try{$.ajax({url:"http://login.okhqb.com/member/create.json",data:{userName:g,moblieCaptcha:o,password:m,safety:1,imgcode:p},type:"POST",dataType:"jsonp",jsonpCallback:"mobSignUpCallback",beforeSend:function(){i("数据提交中...","info")},success:function(e){A.removeClass("disable");if(e.code==200){art.dialog({title:false,content:"注册成功",icon:"succeed_s",time:3});art.dialog.get("HQB_Sign_dialog").close();b.render_toolbar(e.data.mobile,e.data.total_points);if(j&&typeof j=="function"){j.apply()}}else{i(e.msg,"error")}}})}catch(c){i("注册失败：系统异常","error")}function n(t,s,q){var r=$('input[name="'+q+'"]'),e=r.siblings(".i-tips");if(!t||!s||!q){$(".i-tips",".mob-sign-up-form-item").each(function(){$(this).html("").hide()});$("input.m-item-input").each(function(){$(this).removeClass("focus").removeClass("error")})}else{e.html('<span class="tips_icon_type tips_'+s+'"></span>                     <span class="message">'+t+"</span>").show();r.removeClass("focus").addClass("error")}}function i(r,q){if(!r){return}var e=$("#mob_sign_up_nm_tips");if(r=="hide"){e.html("").hide()}else{e.html('<span class="tips_icon_type tips_'+q+'"></span>                     <span class="message">'+r+"</span>").show()}}},QQ_sign_in:function(){var d=window.location.href,c="http://login.okhqb.com/member/union/qq.html?forward=";window.location.href=c+d;return false},SinaWeibo_sign_in:function(){var d=window.location.href,c="http://login.okhqb.com/member/union/sina.html?forward=";window.location.href=c+d;return false},wechat_sign_in:function(){var d=window.location.href,c="http://login.okhqb.com/member/toWechatUnoinLogin.html?forward=";window.location.href=c+d;return false},AliPay_sign_in:function(){var d=window.location.href,c="http://login.okhqb.com/member/union/alipay.html?forward=";window.location.href=c+d;return false},unload_submit_event:function(){try{$('button[name="sign-in-submit"]').unbind("click");$('button[name="mob-sign-up-submit"]').unbind("click");$(window).unbind(".sign")}catch(c){}},render_toolbar:function(f,d){var g=$("#toolbar_bg")||$("#toolbar"),f=f||"强粉";try{g.find(".notloggedin").hide();g.find(".thelogged").html('您好，<a class="u_name" rel="nofollow" href="'+_href+'">'+nickname+'</a>  欢迎回来  <a href="http://www.okhqb.com/member/logout.html" class="logout"> 退出</a><a href="http://my.okhqb.com/my/home.html?ad=dd_id" class="signEveryday"><span>签到赚小强币</span></a>').show()}catch(c){}}};a.OKHQB_sign=b})(window);OKHQB_sign.init();
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){"use strict";function t(e){return"string"==typeof e?parseInt(e,10):~~e}var o={wheelSpeed:1,wheelPropagation:!1,swipePropagation:!0,minScrollbarLength:null,maxScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0,includePadding:!1},n=0,r=function(){var e=n++;return function(t){var o=".perfect-scrollbar-"+e;return void 0===t?o:t+o}},l="WebkitAppearance"in document.documentElement.style;e.fn.perfectScrollbar=function(n,i){return this.each(function(){function a(e,o){var n=e+o,r=D-R;j=0>n?0:n>r?r:n;var l=t(j*(Y-D)/(D-R));M.scrollTop(l)}function s(e,o){var n=e+o,r=E-k;W=0>n?0:n>r?r:n;var l=t(W*(C-E)/(E-k));M.scrollLeft(l)}function c(e){return P.minScrollbarLength&&(e=Math.max(e,P.minScrollbarLength)),P.maxScrollbarLength&&(e=Math.min(e,P.maxScrollbarLength)),e}function u(){var e={width:I};e.left=B?M.scrollLeft()+E-C:M.scrollLeft(),N?e.bottom=_-M.scrollTop():e.top=Q+M.scrollTop(),H.css(e);var t={top:M.scrollTop(),height:A};Z?t.right=B?C-M.scrollLeft()-V-J.outerWidth():V-M.scrollLeft():t.left=B?M.scrollLeft()+2*E-C-$-J.outerWidth():$+M.scrollLeft(),G.css(t),U.css({left:W,width:k-z}),J.css({top:j,height:R-ee})}function d(){M.removeClass("ps-active-x"),M.removeClass("ps-active-y"),E=P.includePadding?M.innerWidth():M.width(),D=P.includePadding?M.innerHeight():M.height(),C=M.prop("scrollWidth"),Y=M.prop("scrollHeight"),!P.suppressScrollX&&C>E+P.scrollXMarginOffset?(X=!0,I=E-F,k=c(t(I*E/C)),W=t(M.scrollLeft()*(I-k)/(C-E))):(X=!1,k=0,W=0,M.scrollLeft(0)),!P.suppressScrollY&&Y>D+P.scrollYMarginOffset?(O=!0,A=D-te,R=c(t(A*D/Y)),j=t(M.scrollTop()*(A-R)/(Y-D))):(O=!1,R=0,j=0,M.scrollTop(0)),W>=I-k&&(W=I-k),j>=A-R&&(j=A-R),u(),X&&M.addClass("ps-active-x"),O&&M.addClass("ps-active-y")}function p(){var t,o,n=function(e){s(t,e.pageX-o),d(),e.stopPropagation(),e.preventDefault()},r=function(){H.removeClass("in-scrolling"),e(q).unbind(K("mousemove"),n)};U.bind(K("mousedown"),function(l){o=l.pageX,t=U.position().left,H.addClass("in-scrolling"),e(q).bind(K("mousemove"),n),e(q).one(K("mouseup"),r),l.stopPropagation(),l.preventDefault()}),t=o=null}function f(){var t,o,n=function(e){a(t,e.pageY-o),d(),e.stopPropagation(),e.preventDefault()},r=function(){G.removeClass("in-scrolling"),e(q).unbind(K("mousemove"),n)};J.bind(K("mousedown"),function(l){o=l.pageY,t=J.position().top,G.addClass("in-scrolling"),e(q).bind(K("mousemove"),n),e(q).one(K("mouseup"),r),l.stopPropagation(),l.preventDefault()}),t=o=null}function v(e,t){var o=M.scrollTop();if(0===e){if(!O)return!1;if(0===o&&t>0||o>=Y-D&&0>t)return!P.wheelPropagation}var n=M.scrollLeft();if(0===t){if(!X)return!1;if(0===n&&0>e||n>=C-E&&e>0)return!P.wheelPropagation}return!0}function g(e,t){var o=M.scrollTop(),n=M.scrollLeft(),r=Math.abs(e),l=Math.abs(t);if(l>r){if(0>t&&o===Y-D||t>0&&0===o)return!P.swipePropagation}else if(r>l&&(0>e&&n===C-E||e>0&&0===n))return!P.swipePropagation;return!0}function b(){function e(e){var t=e.originalEvent.deltaX,o=-1*e.originalEvent.deltaY;return(void 0===t||void 0===o)&&(t=-1*e.originalEvent.wheelDeltaX/6,o=e.originalEvent.wheelDeltaY/6),e.originalEvent.deltaMode&&1===e.originalEvent.deltaMode&&(t*=10,o*=10),t!==t&&o!==o&&(t=0,o=e.originalEvent.wheelDelta),[t,o]}function t(t){if(l||!(M.find("select:focus").length>0)){var n=e(t),r=n[0],i=n[1];o=!1,P.useBothWheelAxes?O&&!X?(i?M.scrollTop(M.scrollTop()-i*P.wheelSpeed):M.scrollTop(M.scrollTop()+r*P.wheelSpeed),o=!0):X&&!O&&(r?M.scrollLeft(M.scrollLeft()+r*P.wheelSpeed):M.scrollLeft(M.scrollLeft()-i*P.wheelSpeed),o=!0):(M.scrollTop(M.scrollTop()-i*P.wheelSpeed),M.scrollLeft(M.scrollLeft()+r*P.wheelSpeed)),d(),o=o||v(r,i),o&&(t.stopPropagation(),t.preventDefault())}}var o=!1;void 0!==window.onwheel?M.bind(K("wheel"),t):void 0!==window.onmousewheel&&M.bind(K("mousewheel"),t)}function h(){var t=!1;M.bind(K("mouseenter"),function(){t=!0}),M.bind(K("mouseleave"),function(){t=!1});var o=!1;e(q).bind(K("keydown"),function(n){if((!n.isDefaultPrevented||!n.isDefaultPrevented())&&t){for(var r=document.activeElement?document.activeElement:q.activeElement;r.shadowRoot;)r=r.shadowRoot.activeElement;if(!e(r).is(":input,[contenteditable]")){var l=0,i=0;switch(n.which){case 37:l=-30;break;case 38:i=30;break;case 39:l=30;break;case 40:i=-30;break;case 33:i=90;break;case 32:case 34:i=-90;break;case 35:i=n.ctrlKey?-Y:-D;break;case 36:i=n.ctrlKey?M.scrollTop():D;break;default:return}M.scrollTop(M.scrollTop()-i),M.scrollLeft(M.scrollLeft()+l),o=v(l,i),o&&n.preventDefault()}}})}function w(){function e(e){e.stopPropagation()}J.bind(K("click"),e),G.bind(K("click"),function(e){var o=t(R/2),n=e.pageY-G.offset().top-o,r=D-R,l=n/r;0>l?l=0:l>1&&(l=1),M.scrollTop((Y-D)*l)}),U.bind(K("click"),e),H.bind(K("click"),function(e){var o=t(k/2),n=e.pageX-H.offset().left-o,r=E-k,l=n/r;0>l?l=0:l>1&&(l=1),M.scrollLeft((C-E)*l)})}function m(){function t(){var e=window.getSelection?window.getSelection():document.getSlection?document.getSlection():{rangeCount:0};return 0===e.rangeCount?null:e.getRangeAt(0).commonAncestorContainer}function o(){r||(r=setInterval(function(){return x()?(M.scrollTop(M.scrollTop()+l.top),M.scrollLeft(M.scrollLeft()+l.left),void d()):void clearInterval(r)},50))}function n(){r&&(clearInterval(r),r=null),H.removeClass("in-scrolling"),G.removeClass("in-scrolling")}var r=null,l={top:0,left:0},i=!1;e(q).bind(K("selectionchange"),function(){e.contains(M[0],t())?i=!0:(i=!1,n())}),e(window).bind(K("mouseup"),function(){i&&(i=!1,n())}),e(window).bind(K("mousemove"),function(e){if(i){var t={x:e.pageX,y:e.pageY},r=M.offset(),a={left:r.left,right:r.left+M.outerWidth(),top:r.top,bottom:r.top+M.outerHeight()};t.x<a.left+3?(l.left=-5,H.addClass("in-scrolling")):t.x>a.right-3?(l.left=5,H.addClass("in-scrolling")):l.left=0,t.y<a.top+3?(l.top=5>a.top+3-t.y?-5:-20,G.addClass("in-scrolling")):t.y>a.bottom-3?(l.top=5>t.y-a.bottom+3?5:20,G.addClass("in-scrolling")):l.top=0,0===l.top&&0===l.left?n():o()}})}function T(t,o){function n(e,t){M.scrollTop(M.scrollTop()-t),M.scrollLeft(M.scrollLeft()-e),d()}function r(){h=!0}function l(){h=!1}function i(e){return e.originalEvent.targetTouches?e.originalEvent.targetTouches[0]:e.originalEvent}function a(e){var t=e.originalEvent;return t.targetTouches&&1===t.targetTouches.length?!0:t.pointerType&&"mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE?!0:!1}function s(e){if(a(e)){w=!0;var t=i(e);p.pageX=t.pageX,p.pageY=t.pageY,f=(new Date).getTime(),null!==b&&clearInterval(b),e.stopPropagation()}}function c(e){if(!h&&w&&a(e)){var t=i(e),o={pageX:t.pageX,pageY:t.pageY},r=o.pageX-p.pageX,l=o.pageY-p.pageY;n(r,l),p=o;var s=(new Date).getTime(),c=s-f;c>0&&(v.x=r/c,v.y=l/c,f=s),g(r,l)&&(e.stopPropagation(),e.preventDefault())}}function u(){!h&&w&&(w=!1,clearInterval(b),b=setInterval(function(){return x()?.01>Math.abs(v.x)&&.01>Math.abs(v.y)?void clearInterval(b):(n(30*v.x,30*v.y),v.x*=.8,void(v.y*=.8)):void clearInterval(b)},10))}var p={},f=0,v={},b=null,h=!1,w=!1;t&&(e(window).bind(K("touchstart"),r),e(window).bind(K("touchend"),l),M.bind(K("touchstart"),s),M.bind(K("touchmove"),c),M.bind(K("touchend"),u)),o&&(window.PointerEvent?(e(window).bind(K("pointerdown"),r),e(window).bind(K("pointerup"),l),M.bind(K("pointerdown"),s),M.bind(K("pointermove"),c),M.bind(K("pointerup"),u)):window.MSPointerEvent&&(e(window).bind(K("MSPointerDown"),r),e(window).bind(K("MSPointerUp"),l),M.bind(K("MSPointerDown"),s),M.bind(K("MSPointerMove"),c),M.bind(K("MSPointerUp"),u)))}function y(){M.bind(K("scroll"),function(){d()})}function L(){M.unbind(K()),e(window).unbind(K()),e(q).unbind(K()),M.data("perfect-scrollbar",null),M.data("perfect-scrollbar-update",null),M.data("perfect-scrollbar-destroy",null),U.remove(),J.remove(),H.remove(),G.remove(),M=H=G=U=J=X=O=E=D=C=Y=k=W=_=N=Q=R=j=V=Z=$=B=K=null}function S(){d(),y(),p(),f(),w(),m(),b(),(oe||ne)&&T(oe,ne),P.useKeyboard&&h(),M.data("perfect-scrollbar",M),M.data("perfect-scrollbar-update",d),M.data("perfect-scrollbar-destroy",L)}var P=e.extend(!0,{},o),M=e(this),x=function(){return!!M};if("object"==typeof n?e.extend(!0,P,n):i=n,"update"===i)return M.data("perfect-scrollbar-update")&&M.data("perfect-scrollbar-update")(),M;if("destroy"===i)return M.data("perfect-scrollbar-destroy")&&M.data("perfect-scrollbar-destroy")(),M;if(M.data("perfect-scrollbar"))return M.data("perfect-scrollbar");M.addClass("ps-container");var E,D,C,Y,X,k,W,I,O,R,j,A,B="rtl"===M.css("direction"),K=r(),q=this.ownerDocument||document,H=e("<div class='ps-scrollbar-x-rail'>").appendTo(M),U=e("<div class='ps-scrollbar-x'>").appendTo(H),_=t(H.css("bottom")),N=_===_,Q=N?null:t(H.css("top")),z=t(H.css("borderLeftWidth"))+t(H.css("borderRightWidth")),F=t(H.css("marginLeft"))+t(H.css("marginRight")),G=e("<div class='ps-scrollbar-y-rail'>").appendTo(M),J=e("<div class='ps-scrollbar-y'>").appendTo(G),V=t(G.css("right")),Z=V===V,$=Z?null:t(G.css("left")),ee=t(G.css("borderTopWidth"))+t(G.css("borderBottomWidth")),te=t(G.css("marginTop"))+t(G.css("marginBottom")),oe="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,ne=null!==window.navigator.msMaxTouchPoints;return S(),M})}});!function(t){t.fn.hoverDelay=function(e){var a,i={hoverDuring:200,outDuring:200,hoverEvent:t.noop,outEvent:t.noop};return a=t.extend(i,e||{}),t(this).each(function(){var e=this;t(this).hover(function(){clearTimeout(e.outTimer),e.hoverTimer=setTimeout(function(){a.hoverEvent.call(e)},a.hoverDuring)},function(){clearTimeout(e.hoverTimer),e.outTimer=setTimeout(function(){a.outEvent.call(e)},a.outDuring)})})}}(jQuery),$(function(){function t(t){$(window).scroll(function(){var e=$(this).scrollTop();e>=200?t.show():t.hide()}),t.on("click",function(){return $("html, body").animate({scrollTop:0},300),!1})}var e=window.Auth&&Auth.getAuthInfo()||null,a={init:function(){this.load_style("http://s2.hqbcdn.com/","assets/v4/css/muiToolBar-1.0.0.css"),this.renderDom(),this.render_loginInPannel(function(){a.event_sign_handle(),a.event_tempt_newuser()}),this.eventTrigger(),this.render_cartCount(),this.time_clock()},load_style:function(t,e){try{var a,i=document.getElementsByTagName("head").item(0);a=document.createElement("link"),a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("href",t+e),i.appendChild(a)}catch(n){}},renderDom:function(){var t='<div id="mui_bar"><div class="mui_bar_con"><div class="newuser"><a class="newuserRemindIcon" href="http://stopic.okhqb.com/xinren2016.html?utml=xrcelan" target="_blank"></a><a class="temptToRegister" href="http://stopic.okhqb.com/xinren.html?utml=xrcelan" target="_blank">新人专享</a></div><div class="userArea"><div class="login_in_pannel hide"></div><div class="login_up_pannel"><a class="login_up_i"></a></div></div><div class="miniCart"><a class="cart" href="javascript:;"><i class="cart_icon"></i>购物车<em class="cart_num">0</em></a></div><div class="kfPannel"><a id="kfNewPannel" href="javascript:;"></a><div class="nav-contact-kfNew">联系客服</div></div><div class="scrollTop"><a href="javascript:;" title="返回顶部"></a></div></div><div class="cart_con_box"><h2>购物车<i class="nav_car_times" data-times="0"></i><i class="nav_car_close"></i></h2> <div class="cart_con"><div class="cart_tips">您的购物车是空的<br>如您已添加商品，请<a target="_blank" href="http://login.okhqb.com/member/login.html">登录</a>查看</div></div></div></div>';$("body").append(t)},render_loginInPannel:function(t){var a=$(".userArea"),i=$(".login_in_pannel",a),n=$(".login_up_pannel",a),o="";e&&1===e.logined&&1===e.member_type?(o='<span class="login_in_i"><a href="http://my.okhqb.com/my/home.html?ad=dd_id"><img width="30" height="30" src="'+e.avatar+'" alt="用户头像" class="user_avatar" /></a></span><div class="login_in hide"><a href="http://www.okhqb.com/member/logout.html" class="login_out">[退出]</a><span class="u_head"><img width="80" height="80" src="'+e.avatar+'" alt="用户头像"><a class="u_mask" href="http://my.okhqb.com/my/home.html?ad=dd_id"></a></span><div class="u_info"><p class="u_name"><a href="http://my.okhqb.com/my/home.html?ad=dd_id" target="_blank">Hi, '+e.nickname+'</a></p><p class="u_coin">小强币：<b>'+(e.total_points||0)+"</b>个</p></div></div>",i.empty().append(o).show(),n.hide()):(n.find(".login_up").length||(o='<div class="login_up hide"><form action=""><div class="f_item"><label for="userName" class="f_label">用户名：</label><input type="text" id="userName" name="userName" class="f_input" maxlength="50" value=""></div><div class="f_item"><label for="passWord" class="f_label">密码：</label><input type="password" id="passWord" name="passWord" class="f_input" value=""></div><p class="f_tips"></p><a href="javascript:;" class="sub_btn">登录</a><p class="forgetpwd"><a target="_blank" href="http://login.okhqb.com/member/memberForget.html">忘记密码？</a></p></form></div>',n.append(o)),n.show(),i.hide()),t&&"function"==typeof t&&t.apply(a)},render_toolbar:function(t){var e=$("#toolbar_bg")||$("#toolbar"),t=t||"强粉";try{e.find(".notloggedin").hide(),e.find(".thelogged").html('您好，<a class="u_name" rel="nofollow" href="'+_href+'">'+t+'</a>&nbsp;&nbsp;欢迎回来&nbsp;&nbsp;<a href="http://www.okhqb.com/member/logout.html" class="logout">&nbsp;退出</a><a href="http://my.okhqb.com/my/home.html?ad=dd_id" class="signEveryday"><span>签到赚小强币</span></a>').show()}catch(a){}},event_tempt_newuser:function(){$("#mui_bar").find(".newuser"),$("#mui_bar").find(".temptToRegister")},event_sign_handle:function(){var t=$(".userArea"),i=$(".login_in_pannel",t),n=$(".login_up_pannel",t),o=($(".login_in_i",t),$(".login_up_i",t),$("#userName",n)),s=$("#passWord",n),l=$(".f_tips",n),r=$(".sub_btn",t);i.hoverDelay({hoverEvent:function(t){i.find(".login_in").show()},outEvent:function(t){i.find(".login_in").hide()},hoverDuring:300}),n.hoverDelay({hoverEvent:function(){n.find(".login_up").show()},outEvent:function(){n.find(".login_up").hide()},hoverDuring:300}),o.add(s).on("focus",function(){l.removeClass("f_tip_error").html("").hide()}).keypress(function(t){13===t.which&&r.trigger("click")}),r.on("click",function(){var t=$.trim(o.val()),i=$.trim(s.val());if(t.length<1)return l.addClass("f_tip_error").html("请输入您的用户名！").show(),!1;if(i.length<1)l.addClass("f_tip_error").html("请输入您的密码！").show();else try{$.ajax({url:"http://login.okhqb.com/member/boxLogin.json",data:{userName:t,passWord:i},type:"POST",dataType:"jsonp",jsonpCallback:"signInCallback",beforeSend:function(){l.addClass("f_tip_error").html("正在为您努力登录...").show()},success:function(t){200==t.code?(e=$.parseJSON(t.data),a.render_loginInPannel(),a.render_toolbar(e.nickname),l.removeClass("f_tip_error").html("").hide(),window.location.href=window.location.href):l.addClass("f_tip_error").html(t.msg)}})}catch(n){l.addClass("f_tip_error").html("登录失败：系统异常").show()}return!1})},render_cartCount:function(){$.ajax({type:"GET",url:"http://buy.okhqb.com/cart/getCartsForToolbar.json",dataType:"jsonp",jsonp:"callback",success:function(t){if(200==t.code)if($(".cart_num").html(t.data.count),t.data.items){var a=t.data,i=a.items,n=3600-(parseInt(.001*a.currentTime)-parseInt(.001*a.countDownTime)),o="";o=n>0?'<h2>购物车<i class="nav_car_times" data-times="'+n+'">库存有限，保留0分0秒</i><i class="nav_car_close"></i></h2><div class="cart_con"><div class="cart_list_box" id="cart_list_box"><ul class="cart_list">':'<h2>购物车<i class="nav_car_times" data-times="'+n+'">已超时，请尽快结算</i><i class="nav_car_close"></i></h2><div class="cart_con"><div class="cart_list_box" id="cart_list_box"><ul class="cart_list">';for(var s=0;s<i.length;s++)o+='<li class="'+i[s].skuId+'"><a title="'+i[s].goodsTitle+'" target="_blank" href="http://www.okhqb.com/item/'+i[s].skuId+'.html" class="goods_pic"><img height="60" alt="'+i[s].goodsTitle+'" src="'+i[s].imageMD5+'" widht="60"></a>',o+='<div class="goods_info">',o+='<a target="_blank" title="'+i[s].goodsTitle+'" href="http://www.okhqb.com/item/'+i[s].skuId+'.html" class="goods_tit">'+i[s].goodsTitle+"</a>",o+='<div class="goods_num"><i class="price">&yen;'+(i[s].promotePrice||i[s].price)+'</i>×<i class="num">'+i[s].quantity+"</i></div></div></li>";o+="</ul></div>",o+='<div class="car_list_total"><span>',o+='<b class="car_total_price">&yen;<i class="car_total_price_i">'+a.totalFee+"</i></b><br/>",o+='<b class="car_total_num">共<i class="car_con_num">'+a.count+"</i>件商品</b></span>",o+='<a href="http://buy.okhqb.com/buy/cart.html" target="_blank">去购物车结算</a></div>',$(".cart_con_box").html(o),i.length>=6&&($(".cart_list_box").height(600),$(".car_list_total").css({position:"fixed",bottom:0,width:250}),$("#cart_list_box").perfectScrollbar({suppressScrollX:!0})),window.NAV_RIGHT_TIMER&&window.NAV_RIGHT_TIMER.init()}else e&&1===e.logined&&1===e.member_type?$(".cart_con_box").html('<img width="203" height="184" src="http://s2.hqbcdn.com/assets/v4/images/process/nav_null.jpg" />'):$(".cart_con").html('<div class="cart_tips">您的购物车是空的<br>如您已添加商品，请<a target="_blank" href="http://login.okhqb.com/member/login.html">登录</a>查看</div>')}})},time_clock:function(){var t={};t.init=function(){t.clockObj=$(".nav_car_times"),t.times=$(".nav_car_times")?$(".nav_car_times").attr("data-times"):0,t.times>0&&(clearInterval(t.clock),t.clock=setInterval(function(){if(t.times<=0)return clearInterval(t.clock),t.clockObj.html("已超时，立即结算还有库存商品"),!1;t.times--;var e=parseInt(t.times/60),a=parseInt(t.times%60);e=e>=10?e:"0"+e,a=a>=10?a:"0"+a,t.clockObj.html("库存有限，保留"+e+"分"+a+"秒")},1e3))},window.NAV_RIGHT_TIMER=t,t.init()},event_cart_handle:function(){var t=$("#mui_bar .miniCart"),e=$(".cart_con_box"),a=($(".cart_tips",e),$(".cart_list",e)),i=$(".mini_total",e),n=($(".cart_info",e),this);a.hide(),i.hide(),t.on("click",function(){e.show(),n.render_cartCount()})},event_scrollTop_handle:function(){var e=$("#mui_bar .scrollTop"),a=$(window).height();728>a&&$(".scrollTop").css("bottom","30px"),t(e)},event_kf_handle:function(){try{$("#kfNewPannel,.kfPannel, .service").click(function(){window.open("http://im.okhqb.com/client","OKHQBIM","width=340,height="+window.screen.height+"，menubar=no,location=no,status=no,toolbar=no,left=0,top=0")})}catch(t){$("#kfNewPannel,.kfPannel").click(function(){return art.dialog({id:"__IM",title:"系统提示",content:'客服系统不存在，请联系客服电话<b style="color:red">400-999-1258</b>！'}),!1})}},evevt_carlist_handle:function(){var t=$(".cart_con_box");$(".nav_car_time");$(document).click(function(e){$(e.target).hasClass("cart")||t.hide()}),$(".nav_car_close").live("click",function(){t.hide()})},eventTrigger:function(){this.event_cart_handle(),this.event_kf_handle(),this.evevt_carlist_handle(),this.event_scrollTop_handle()}};a.init()});!function(w){function HQB_bi_cps_com(){this.cpsCookieName="yiqifa_cps_okhqb",this.okbiaCookieName="_okbia",this.okbibCookieName="_okbib",this.okbicCookieName="_okbic",this.authCookieName="auth"}HQB_bi_cps_com.prototype._getCookie=function(e){return $.cookie(e)},HQB_bi_cps_com.prototype._setCookie=function(e,o){$.cookie(e,o)},HQB_bi_cps_com.prototype._getMemberId=function(){var pagememberid=0,mem=this._getCookie(this.authCookieName);if(mem){var obj=eval("("+mem+")");obj=eval("("+obj+")"),pagememberid=obj.memberid}return pagememberid},HQB_bi_cps_com.prototype.pushData=function(e,o,i,t,m){var e=e||0,o=o||0,i=i||0,t=t||0,m=m||"",c=document.getElementsByTagName("body").item(0),s=document.createElement("script");s.type="text/javascript";var a={type:e,orderid:o,memberid:i,openid:t,customstr:m,pagememberid:this._getMemberId(),cps:this._getCookie(this.cpsCookieName),okbia:this._getCookie(this.okbiaCookieName),okbib:this._getCookie(this.okbibCookieName),okbic:this._getCookie(this.okbicCookieName),referurl:escape(document.referrer),visiturl:escape(window.location.href)},p=JSON.stringify(a);s.src="http://a.okhqb.com/plus/push.php?v="+p;try{c.appendChild(s)}catch(b){}},w.HQB_bi_cps_com=HQB_bi_cps_com}("undefined"!=typeof window?window:this);$(function(){var i={isLogined:!1,init:function(){this.resizeInfo(),this.isLogined=OKHQB_sign.isSignIn(),this.ctrol(),this.addCar(),this.pkgAction(),this.imgChange(),this.share(),this.loadComment(1),this.scrollEvent(),this.detailNavTap(),this.salesdAndArriRemind(),this.loadDetail(),this.honorWall()},ctrol:function(){function t(){var i=$(".looked-opts"),t=i.length,e=0;t&&$(".change-btn").on("click",function(n){n.preventDefault(),e++,i.hide().eq(e%t).show()})}$(".app-icon").hover(function(){$(".qr-list").show()},function(){$(".qr-list").hide()}),$(".stag").hover(function(){var i=$(this).position(),t=$(".stag-tips");t.css({left:i.left-185+"px",top:i.top+32+"px"}).show()},function(){$(".stag-tips").hide()}),$(".stag-tips").hover(function(){$(this).show()},function(){$(this).hide()}),$(".load-more").click(function(){i.loadComment($(this).attr("data-page"))}),this.stockChange($(".plus"),1,"数量不能超过库存量"),this.stockChange($(".less"),"-1","数量不能低于1"),$(".bx-box").click(function(){$(this).toggleClass("on")}),t()},resizeInfo:function(){var i,t=$(".info-v");$(".info-hot").length>0&&(i=$(".info-hot").height(),i>t.height()&&t.height(i-30))},imgChange:function(){function i(i){var e=i.attr("data-src");t.removeClass("on"),i.addClass("on"),s.attr("src",e)}var t=$(".thurb-sl li"),e=$(".thurb-sl ul"),n=$(".sl-prev.on"),o=$(".sl-next.on"),s=$(".big-show").find("img");e.width(t.length*t.outerWidth(!0)),n.click(function(){e.find("li:last").prependTo(e),e.stop().css("left","-70px").animate({left:0},250),i(e.find("li").eq(0))}),o.click(function(){e.stop().animate({"margin-left":"-70px"},250,function(){e.find("li:first").appendTo(e),e.css("margin-left","0px")}),i(e.find("li:last"))}),t.hover(function(){i($(this))})},share:function(){var t=$(".share-list"),e="";$(".share").hover(function(){t.show()},function(){t.hide()}),$(".wx-btn").click(function(){var t=$(".share-box").position();i.isLogined?($(".wx-ewm-box").css({left:t.left+20+"px",top:t.top+20+"px"}).show(),i.recordShare({shareType:1,shareWay:1,skuId:e})):OKHQB_sign.dialog({sign_in_callback:function(){window.location.href=window.location.href,$(".wx-ewm-box").css({left:t.left+20+"px",top:t.top+20+"px"}).show()}})}),$(".close-wx").click(function(){$(".wx-ewm-box").hide()}),$(".sina-btn").click(function(){var t="",n=626,o=436,s=$(".big-show img").attr("src")||$(".wx-ewm img").attr("src"),a=$(".v-a1").html()||document.title;t="http://v.t.sina.com.cn/share/share.php?title="+a+"&pic="+s+"&url="+window.location.href,t=encodeURI(t),i.isLogined?(window.open(t,"HQBshare",["toolbar=0,status=0,resizable=1,width="+n+",height="+o+",left="+($(window).width-n)/2+",top="+($(window).height-o)/2]),i.recordShare({shareType:1,shareWay:2,skuId:e})):OKHQB_sign.dialog({sign_in_callback:function(){window.location.href=window.location.href,window.open(t,"HQBshare",["toolbar=0,status=0,resizable=1,width="+n+",height="+o+",left="+($(window).width-n)/2+",top="+($(window).height-o)/2])}})})},recordShare:function(i){$.ajax({url:"http://my.okhqb.com/my/share.json",type:"GET",dataType:"jsonp",data:i})},scrollEvent:function(){var t=$(".dt-nav"),e=$(window),n=t.length>0?t.position().top:0,o=$(".dt-sec"),s=0,a=0,l=0,d=0,c=0;e.scroll(function(){s=o.eq(0).position().top,a=o.eq(1).position().top,l=o.eq(2).position().top-80,d=o.eq(3).position().top-80,c=e.scrollTop(),c>n?t.addClass("dt-nav-fixed"):t.removeClass("dt-nav-fixed"),c>s&&a-80>c?i.desTapChange(0):c>a-60&&l>c?i.desTapChange(1):c>l&&d>c?i.desTapChange(2):c>d&&i.desTapChange(3)})},desTapChange:function(i){var t=$(".dt-tap");t.removeClass("on"),t.eq(i).addClass("on")},detailNavTap:function(){var i=$(".dt-tap"),t=$(".dt-sec"),e=0;i.click(function(){var n=$(this),o=n.index(),s=t.eq(o).position();e=$(".dt-nav-fixed").length>0?s.top-i.height()-10:s.top-1.5*i.height()-20,i.removeClass("on"),n.addClass("on"),$("html, body").animate({scrollTop:e+"px"},500)})},loadComment:function(i){var t,e=$("#goods_id").val();t="http://www.okhqb.com/detail/rates.json?goodsId="+e+"&status=0&currentPage="+i+"&t="+Math.random(),$.ajax({type:"GET",url:t,dataType:"jsonp",jsonpCallback:"callback",success:function(i){if(200==i.code){if($(".total-com").html($(".eva-num").find("a").html()+"条"),0==i.data.tcRates.length)return $(".com-h").html("暂无评价"),!1;for(var t="",e=i.data.tcRates,n=e.length,o="",s=0;n>s;s++){if(t+='<li class="cfix">',t+='<div class="use-info">',t+="<p>"+e[s].nickName+"</p>",t+='<p><span class="star star-'+e[s].grade+'"></span></p>',t+='<p class="client">PC用户</p>',t+="</div>",t+='<div class="use-msg">',t+="<p>"+e[s].content+"</p>",t+='<p class="com-time">'+e[s].createdStr+"</p>",e[s].replys.length>0)for(var a=0,l=e[s].replys.length;l>a;a++)t+='<div class="com-rep">',t+="<i>客服回复：</i>"+e[s].replys[a].content,t+="</div>";t+="</div>",t+="</li>"}$("#total-star").addClass("star-"+o),$(".com-ul").append(t),20>n?$(".more-com").hide():($(".more-com").show(),$(".load-more").attr("data-page",i.data.currentPage+1))}}})},honorWall:function(){function i(){timer=setInterval(function(){o++,o>3&&(o=0),t.removeClass("on"),t.eq(o).addClass("on"),e.hide(),e.eq(o).show()},3e3)}var t=$(".honor-item"),e=$(".honor-list img"),n=0,o=0;timer=null,t.hover(function(){n=$(this).index(),t.removeClass("on"),$(this).addClass("on"),e.hide(),e.eq(n).show(),clearInterval(timer)},function(){o=$(this).index(),i()}),$(".honor-list").hover(function(){clearInterval(timer)},function(){i()}),i()},loadDetail:function(){var i=$("#goods_id").val();$.ajax({type:"GET",url:"http://www.okhqb.com/qiang/findDescriptionDetail.json?goodsId="+i+"&callback=detail",dataType:"jsonp",jsonpCallback:"detail",success:function(i){if(200==i.code){var t=i.data;$(".description").html(t)}}})},stockChange:function(i,t,e){function n(i,t){i.val(1),o.html(t).show().delay(2e3).fadeOut(1e3)}var o=$(".num-tips"),s=$("#sku_id").val(),a=$(".stock").val(),l=$(".sku-num"),d=$("#lm"+s).length>0?$("#lm"+s).val():0;i.bind("click",function(){var i=0,n=l.val();if(d=Number(d),n=parseInt(n)+1*parseInt(t),$(".limit-count").length>0){if(i=$(".limit-count").val(),n>i)return o.html("此商品同一用户限购"+i+"件").show().delay(2e3).fadeOut(1e3),!1;if(n+d>50)return l.val(50),o.html("商品不能超过50件").show().delay(2e3).fadeOut(1e3),!1}return n>a?(o.html(e).show().delay(2e3).fadeOut(1e3),!1):n+d>50?(l.val(50),o.html("商品不能超过50件").show().delay(2e3).fadeOut(1e3),!1):1>n?(o.html(e).show().delay(2e3).fadeOut(1e3),!1):void l.val(n)}),$(".sku-num").bind("keyup",function(){var i=$(this),t=i.val(),e=0;if(d=Number(d),parseInt(t)<1||/\D/g.test(t))return n(i,"请输入正确的商品数量"),!1;if($(".limit-count").length>0){if(e=$(".limit-count").val(),parseInt(t)>parseInt(e))return n(i,"此商品同一用户限购"+e+"件"),!1;if(Number(t)+Number(d)>50)return n(i,"限购50件"),!1}parseInt(t)>parseInt(a)?n(i,"请输入正确的商品数量"):Number(t)+Number(d)>50&&n(i,"限购50件")})},addCar:function(){$(".add-on").click(function(t){var e=$(this),n=$(".stock").val(),o=$(".sku-num").val(),s=$("#sku_id").val(),a=$("."+s).length||0,l=$(t.target),d=[],c="";return e.hasClass("isSend")?!1:(e.addClass("isSend"),a>30?(artDialog({id:"nav_001",title:"温馨提示",padding:"10px 20px",content:"<p>您购物车添加的商品种类过多（不能超过30种）,请尽快付款！</p>",time:3,fixed:!0,lock:!0}),!1):0>=o||Number(o)>Number(n)?($(".num-tips").html("请选择正确的商品数量").show().delay(2e3).fadeOut(1e3),$(".stock").val(1),!1):(c=$(".zp-icon").length>0?"http://buy.okhqb.com/buy/addCart.json?collocationId="+$("#bundle_id").val()+"&quantity="+o+"&skuId="+s:"http://buy.okhqb.com/buy/addCart.json?skuId="+s+"&quantity="+o,$(".bx-box").each(function(){var i=$(this);i.hasClass("on")&&d.push(i.attr("data-value"))}),d.length>0&&(c+="&increaseServeIds="+d.toString()+"&increaseServeSkuIds="+s),void i.ajaxJoinCar({btn:e,url:c,target:l,type:3,skuid:s})))}),$(".pgk-submit").click(function(t){var e=$(this),n=e.parent(".pkg-r"),o=n.find(".bundle_id").val(),s=n.find(".bundle_skuIdGroup").val(),a="http://buy.okhqb.com/buy/addCart.json?collocationId="+o+"&quantity=1&collocationSkuIds="+s,l=$(t.target);i.ajaxJoinCar({btn:e,url:a,target:l,type:4,skuid:s})})},ajaxJoinCar:function(t){$.ajax({type:"GET",url:t.url,dataType:"jsonp",jsonp:"callback",success:function(e){if(setTimeout(function(){t.btn.removeClass("isSend")},1e3),200===e.code){var n=t.btn.position(),o=$(".kfPannel").position(),s=$(".big-show img").attr("src"),a=o.top+$(window).scrollTop()+120,l=$(window).width(),d=parseInt(n.left-o.left),c=new HQB_bi_cps_com||{};i.reviewRightNav(),t.target.hasClass("cs-addCar")?(t.btn.append($('<img width="60" height="60" src="'+s+'" style="position:fixed;z-index:7000;border-radius:50%;" class="nav_img_gif" />')),a=o.top):t.btn.append($('<img width="60" height="60" src="'+s+'" style="position:absolute;z-index:7000;border-radius:50%;" class="nav_img_gif" />')),$(".nav_img_gif").css({top:n.top,left:n.left}).animate({top:n.top+30},500,function(){$(".nav_img_gif").animate({left:l-60+"px",top:a+"px"},d,function(){$(".nav_img_gif").remove(),$(".cart_con_box").show()})});try{c.pushData(t.type,0,0,0,t.skuid)}catch(r){}}else artDialog({id:"nav_err",title:"温馨提示",padding:"20px 30px",content:e.msg,time:3})}})},reviewRightNav:function(){var i=$(".cart_num");$.ajax({type:"GET",url:"http://buy.okhqb.com/cart/getCartsForToolbar.json",dataType:"jsonp",jsonp:"callback",success:function(t){if(200==t.code){if(i.text(t.data.count),t.data.items){for(var e=t.data,n=e.items,o=3600-(parseInt(.001*e.currentTime)-parseInt(.001*e.countDownTime)),s='<h2>购物车<i class="nav_car_times" data-times="'+o+'">库存有限，保留0分0秒</i><i class="nav_car_close"></i></h2><div class="cart_con"><div class="cart_list_box" id="cart_list_box"><ul class="cart_list">',a=0;a<n.length;a++)s+='<li class="'+n[a].skuId+'"><a title="'+n[a].goodsTitle+'" target="_blank" href="http://www.okhqb.com/item/'+n[a].skuId+'.html" class="goods_pic"><img height="60" alt="'+n[a].goodsTitle+'" src="'+n[a].imageMD5+'" widht="60"></a>',s+='<div class="goods_info">',s+='<a target="_blank" title="'+n[a].goodsTitle+'" href="http://www.okhqb.com/item/'+n[a].skuId+'.html" class="goods_tit">'+n[a].goodsTitle+"</a>",s+='<div class="goods_num"><i class="price">&yen;'+(n[a].promotePrice||n[a].price)+'</i>×<i class="num">'+n[a].quantity+"</i></div></div></li>";s+="</ul></div></div>",s+='<div class="car_list_total"><span>',s+='<b class="car_total_price">&yen;<i class="car_total_price_i">'+e.totalFee+"</i></b><br/>",s+='<b class="car_total_num">共<i class="car_con_num">'+e.count+"</i>件商品</b></span>",s+='<a href="http://buy.okhqb.com/buy/cart.html" target="_blank">去购物车结算</a></div>',$(".cart_con_box").html(s),n.length>=6&&($(".cart_list_box").height(600),$(".car_list_total").css({position:"fixed",bottom:0,width:250}),$("#cart_list_box").perfectScrollbar({suppressScrollX:!0}))}try{window.NAV_RIGHT_TIMER.clock&&clearInterval(window.NAV_RIGHT_TIMER.clock),window.NAV_RIGHT_TIMER.init&&window.NAV_RIGHT_TIMER.init()}catch(l){}}}})},pkgAction:function(){var t=$(".pkg-tab"),e=$(".pkg-item");t.click(function(){var i=$(this),n=i.index();t.removeClass("on"),i.addClass("on"),e.removeClass("on"),e.eq(n).addClass("on")}),$(".pkg-ck").click(function(){var t=$(this),e=t.val().split("|"),n=t.parents(".pkg-item"),o=n.find(".pkg-tp"),s=n.find(".sku-p"),a=n.find(".sku-s"),l=n.find(".bundle_skuIdGroup"),d=0,c=0,r=0,h=l.val();t.attr("checked")?(d=Number(o.html())+Number(e[1]),r=Number(a.html())+Number(e[2]),h+=","+e[0]):(d=Number(o.html())-Number(e[1]),r=Number(a.html())-Number(e[2]),h=i.dellArr(h.split(","),e[0])),c=d+r,o.html(d.toFixed(2)),s.html(c.toFixed(2)),a.html(r.toFixed(2)),l.val(h)})},dellArr:function(i,t,e){for(var n=0,o=i.length;o>n;n++)i[n]==t&&i.splice(n,1);return i},salesdAndArriRemind:function(){function t(){$.ajax({url:"http://my.okhqb.com/my/getEmailAndMobile.json",type:"GET",dataType:"jsonp",jsonp:"callback",context:document.body,success:function(i){i.data&&(i.data.email&&($(".remind-email").val(i.data.email),$(".remind-email").siblings(".item-true").show()),i.data.mobile&&($(".remind-mobile").val(i.data.mobile),$(".remind-mobile").siblings(".item-true").show()))}})}function e(i,t,e){art.dialog({id:i,title:t,content:e})}function n(){var i=$("#sku_id").val();$.ajax({url:"http://item.okhqb.com/detail/applyRemind.json",dataType:"jsonp",type:"GET",data:{skuId:i,type:"A"},success:function(t){if(200==t.code){var e=$(".focus"),n="";e.hasClass("hasFous")?($(".focus").removeClass("hasFous").html("<i></i>关注"),n="取消关注成功",$.ajax({type:"GET",url:"http://my.okhqb.com/my/deleteRemind.json?skuId="+i,dataType:"jsonp",jsonp:"callback",success:function(){}})):($(".focus").addClass("hasFous").html('<i class="on"></i>已关注'),n="关注成功"),art.dialog({title:"我的关注",content:n,noFn:!0,time:3,padding:"30px 50px"})}}})}function o(i,t){var e;e=t?'<div id="price-arrival-dialog-box"><div class="success_remind-dialog-icon"></div><div class="success_remind-dialog-right"><div class="success_remind-dialog-tit">设置成功！</div><div class="success_remind-dialog-txt">商品降价（到'+t+"元以下）时将第一时间提醒您。</div></div></div>":'<div id="price-arrival-dialog-box"><div class="success_remind-dialog-icon"></div><div class="success_remind-dialog-right"><div class="success_remind-dialog-tit">设置成功！</div><div class="success_remind-dialog-txt">商品到货时将第一时间提醒您。</div></div></div>',art.dialog.get(i).close(),art.dialog({title:"我的关注",content:e,noFn:!0,time:3,padding:"30px 50px"})}var s,a,l,d,c=$(".sku-price").html(),r=/^-?\d+$/,h=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/,u=/^1[3|5|7|9|8]\d{9}$/;s=Number(c),$("input.remind-price").live("blur",function(){""==$(this).val()?($(this).siblings(".remind-tips").show(),$(this).siblings(".remind-tips").find("span").html("请填写提醒价格！").fadeIn(200),a=!1):r.test($(this).val())?$(this).val()>=s&&($(this).siblings(".remind-tips").show(),$(this).siblings(".remind-tips").find("span").html("请输入小于现价的提醒价！").fadeIn(200),a=!1):($(this).siblings(".remind-tips").show(),$(this).siblings(".remind-tips").find("span").html("价格只能为数字！").fadeIn(200),a=!1)}).live("keyup",function(){$(this).siblings(".remind-tips").slideUp(200),a=!0}),$("input.remind-email").live("blur",function(){""==$(this).val()?d=!0:h.test($(this).val())?h.test($(this).val())&&$(this).siblings(".item-true").show():($(this).siblings(".remind-tips").show(),$(this).siblings(".remind-tips").find("span").html("email地址格式不正确！").fadeIn(200),d=!1)}).live("keyup",function(){$(this).siblings(".remind-tips").slideUp(200),d=!0}),$(".remind-mobile").live("focus",function(){$(this).siblings(".item-true").hide()}),$(".remind-email").live("focus",function(){$(this).siblings(".item-true").hide()}),$(".remind-mobile").live("blur",function(){""==$(this).val()?($(this).siblings(".remind-tips").show(),$(this).siblings(".remind-tips").find("span").html("请填写您的手机号码！").fadeIn(200),l=!1):u.test($(this).val())?u.test($(this).val())&&$(this).siblings(".item-true").show():($(this).siblings(".remind-tips").show(),$(this).siblings(".remind-tips").find("span").html("手机格式不正确！").fadeIn(200),l=!1)}).live("keyup",function(){$(this).siblings(".remind-tips").slideUp(200),l=!0}),$(".focus").click(function(){i.isLogined?n():OKHQB_sign.dialog({sign_in_callback:function(){window.location.href=window.location.href}})}),$(".pri-rd").click(function(){i.isLogined?(t(),$(".old_price").html($(".sku-price").html()),e("qqalt","降价提醒",$("#__remindDialogDOM").html())):OKHQB_sign.dialog({sign_in_callback:function(){window.location.href=window.location.href}})}),$("#remind-dialog-btn1").live("click",function(){if(!$("input.remind-price").val())return $("input.remind-price").siblings(".remind-tips").show(),$("input.remind-price").siblings(".remind-tips").find("span").html("请填写提醒价格！").fadeIn(200),a=!1,!1;if(0==a||0==l||0==d)return!1;var i=$(".remind-price").val(),t=$(".remind-email").val(),e=$(".remind-mobile").val(),n=$("#sku_id").val();$.ajax({url:"http://item.okhqb.com/detail/applyRemind.json",dataType:"jsonp",type:"GET",data:{email:t,mobile:e,remindPrice:i,skuId:n,recordPrice:c,type:"P"},success:function(t){o("qqalt",i)}})}),$(".add-rmd").click(function(){i.isLogined?(t(),e("qqalt","到货通知",$("#__arrivalDialogDOM").html())):OKHQB_sign.dialog({sign_in_callback:function(){window.location.href=window.location.href}})}),$("#remind-dialog-btn2").live("click",function(){var i=$(".remind-email").val(),t=$(".arr-mobile").val(),e=$("#sku_id").val();return""!=$.trim(t)&&u.test(t)?void $.ajax({url:"http://item.okhqb.com/detail/applyRemind.json",dataType:"jsonp",type:"GET",data:{mobile:t,skuId:e,email:i,type:"S"},success:function(i){200==i.code&&o("qqalt",null)}}):($(".arr-mobile").siblings(".remind-tips").fadeIn(200).find("span").html("请填写您的手机号码！"),!1)})}};i.init(),function(i){var t={launch:function(){this.get_cookie(),this.set_cookie()},com:function(i,t){for(var e in t)if(i==t[e])return!1;return!0},get_len:function(){return $.cookie("look_goods")?(this.track_goods=$.cookie("look_goods").split("_"),this.track_goods.length):0},get_cookie:function(){if($.cookie("look_goods")){var i=($.cookie("look_goods").split("_").length,$.cookie("look_goods"));$.ajax({url:"http://www.okhqb.com/item/findSkuDetailByGoodsId.json?skuIds="+i,type:"GET",dataType:"jsonp",success:function(i){if(200==i.code&&i.data){var t=i.data,e="",n="<h2><i>▍</i>您浏览过的商品</h2>";n+="<ul>";for(var o=0;o<t.length;o++){var s,a;t[o].qiangPrice?s=t[o].qiangPrice:t[o].eventPrice?s=t[o].eventPrice:t[o].okPrice&&(s=t[o].okPrice),e="?ad=r2_"+t[o].skuId,_link="http://www.okhqb.com/item/"+t[o].skuId+".html"+e,_ptitle=t[o].prodTitle,a=t[o].thumb?t[o].thumb:"http://s.hqbcdn.com/assets/v3/images/okhqb-loading.gif",n+="<li>",n+='<a href="'+_link+'" target="_blank" class="dt-p"><img src="'+a+'" height="130" width="130" /></a>',n+='<a href="'+_link+'" target="_blank" title="'+t[o].prodTitle+'" class="dt-a">'+t[o].prodTitle+"</a>",t[o].eventPrice&&(n+="<p><b>&yen;"+t[o].eventPrice.toFixed(2)+"&nbsp;&nbsp;</b>"),t[o].okPrice&&(n+="<del>&yen;"+t[o].okPrice.toFixed(2)+"</del>"),n+="</p></li>"}n+="</ul>",$(".dt-right").html(n).show()}}})}},set_cookie:function(){var i=$("#sku_id").val();if($.cookie("look_goods")){var t,e=[];e=$.cookie("look_goods").split("_"),t=e.length,this.com(i,e)&&(30>t?e[t]=i:t>=30&&(e.pop(),e.unshift(i)),$.cookie("look_goods",e.join("_"),{expires:7,path:"/",domain:"okhqb.com"}))}else $.cookie("look_goods",i,{expires:7,path:"/",domain:"okhqb.com"})}};i.M_track=t,t.launch()}(window)});